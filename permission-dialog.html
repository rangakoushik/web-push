<!DOCTYPE html>
<!-- saved from url=(0065)https://cdn.ampproject.org/v0/amp-web-push-permission-dialog.html -->
<html><!-- AMP Web Push Permission Dialog --><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
​
  <!-- Do not edit styles in this section -->
  <style builtin="">
    /* Do not edit styles in this section. Add custom styles in the next
       style section */
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }
​
    /* Default loading spinner */
    .spinner,
    .spinner:after {
      border-radius: 50%;
      width: 10em;
      height: 10em;
    }
    .spinner {
      margin: 60px auto;
      font-size: 10px;
      position: relative;
      text-indent: -9999em;
      border-top: 1.1em solid rgba(140, 140, 140, 0.2);
      border-right: 1.1em solid rgba(140, 140, 140, 0.2);
      border-bottom: 1.1em solid rgba(140, 140, 140, 0.2);
      border-left: 1.1em solid rgb(140, 140, 140);
      -webkit-transform: translateZ(0);
      -ms-transform: translateZ(0);
      transform: translateZ(0);
      -webkit-animation: spinner 1.1s infinite linear;
      animation: spinner 1.1s infinite linear;
    }
    @-webkit-keyframes spinner {
      0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
      }
      100% {
        -webkit-transform: rotate(360deg);
        transform: rotate(360deg);
      }
    }
    @keyframes spinner {
      0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
      }
      100% {
        -webkit-transform: rotate(360deg);
        transform: rotate(360deg);
      }
    }
​
    /* Horizontally and vertically center items */
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 15px;
    }
​
    /* Page message text styles */
    .message {
      font-size: 22px;
      font-family: sans-serif;
      text-align: center;
    }
​
    /* Close icon styles */
    #close {
      position: fixed;
      right: 32px;
      top: 32px;
      width: 32px;
      height: 32px;
      opacity: 0.5;
      cursor: pointer;
    }
    #close:before, #close:after {
      position: fixed;
      right: 48px;
      content: ' ';
      height: 33px;
      width: 3px;
      background-color: #333;
    }
    #close:before {
      transform: rotate(45deg);
    }
    #close:after {
      transform: rotate(-45deg);
    }
​
    /* Used to hide the preload and postload sections */
    .invisible {
      display: none;
    }
  </style>
​
  <!-- Optional: Add custom styles here -->
  <style custom="">
    /* Add custom styles here */
  </style>
</head>
<body>
  <div id="preload">
    <!-- Anything in this section will be shown before the main script
          runs, and will be hidden after -->
    <div class="spinner"></div>
  </div>
  <div id="postload" class="invisible">
    <span id="close"></span>
    <div permission="default">
      <p class="message">
        <!--
        Customize the subscribing message here
            (e.g. "Click Allow to receive notifications")
        -->
        Click Allow to receive notifications.
      </p>
    </div>
    <div permission="denied">
      <!--
        Customize the unblocking message here
            (e.g. "Please unblock notifications in your browser settings
                    to receive notifications from this website.")
        -->
      <p class="message">
        Please unblock notifications in your browser settings to receive notifications from this website.
      </p>
    </div>
  </div>
  <script>;
!function(){Array.isArray;var t=Object.prototype;function i(t){var i=Object.create(null);return t&&Object.assign(i,t),i}t.hasOwnProperty,t.toString;var n=/(\0)|^(-)$|([\x01-\x1f\x7f]|^-?[0-9])|([\x80-\uffff0-9a-zA-Z_-]+)|[^]/g;function e(t,i,n,e,r){return r||(i?"�":e?t.slice(0,-1)+"\\"+t.slice(-1).charCodeAt(0).toString(16)+" ":"\\"+t)}var r=/(?:^[#?]?|&)([^=&]+)(?:=([^&]))?/g;function s(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return decodeURIComponent(t)}catch(t){return i}}var o="amp-web-push";function a(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}self._AMP_LOG=self.AMP_LOG||{user:null,dev:null,userForEmbed:null};var h=self.AMP_LOG;function c(){return h.dev||(h.dev=function(t,i){throw new Error("failed to call initLogConstructor")}())}function u(t){return t.data}var f,l,d=function(){function t(t){this.dr=t,this.pr=0,this.mr=0,this.yr=i()}var n=t.prototype;return n.has=function(t){return!!this.yr[t]},n.get=function(t){var i=this.yr[t];if(i)return i.access=++this.mr,i.payload},n.put=function(t,i){this.has(t)||this.pr++,this.yr[t]={payload:i,access:this.mr},this.wr()},n.wr=function(){if(!(this.pr<=this.dr)){var t,i=this.yr,n=this.mr+1;for(var e in i){var r=i[e].access;r<n&&(n=r,t=e)}void 0!==t&&(delete i[t],this.pr--)}},t}();function v(t,i){return f||(f=self.document.createElement("a"),l=self.AMP_URL_CACHE||(self._AMP_URL_CACHE=new d(100))),function(t,i,n){if(n&&n.has(i))return n.get(i);t.href=i,t.protocol||(t.href=t.href);var e,r={href:t.href,protocol:t.protocol,host:t.host,hostname:t.hostname,port:"0"==t.port?"":t.port,pathname:t.pathname,search:t.search,hash:t.hash,origin:null};"/"!==r.pathname[0]&&(r.pathname="/"+r.pathname),("http:"==r.protocol&&80==r.port||"https:"==r.protocol&&443==r.port)&&(r.port="",r.host=r.hostname),e=t.origin&&"null"!=t.origin?t.origin:"data:"!=r.protocol&&r.host?r.protocol+"//"+r.host:r.href,r.origin=e;var s=r;return n&&n.put(i,s),s}(f,t,i?null:l)}new Set(["c","v","a","ad"]);var w=function(){function t(t){t||(t={debug:!1,windowContext:window}),this.ir={},this.el={},this.Wl=t.debug,this.Kl=!1,this.ql=!1,this.de=!1,this.Jl=null,this.Zl=null,this.$l=null,this.Ql=null,this.Xl=null,this.Yl=t.windowContext||window}var i,n,e=t.prototype;return e.listen=function(i){var n=this;return new Promise((function(t,e){n.de?e(new Error("Already connected.")):n.Kl?e(new Error("Already listening for connections.")):Array.isArray(i)?(n.$l=n.nv.bind(n,i,t,e),n.Yl.addEventListener("message",n.$l),n.Wl&&c().fine(o,"Listening for a connection message...")):e(new Error("allowedOrigins should be a string array of allowed origins to accept messages from. Got:",i))})).then((function(){n.send(t.Topics.CONNECT_HANDSHAKE,null),n.de=!0}))},e.Qa=function(t,i){for(var n=v(t).origin,e=0;e<i.length;e++)if(v(i[e]).origin===n)return!0;return!1},e.nv=function(i,n,e,r){var s=u(r),a=r.origin,h=r.ports;this.Wl&&c().fine(o,"Window message for listen() connection received:",s),this.Qa(a,i)?s&&s.topic===t.Topics.CONNECT_HANDSHAKE?(c().fine(o,"Received expected connection handshake message:",s),this.Yl.removeEventListener("message",this.$l),this.Zl=h[0],this.Xl=this.tv.bind(this),this.Zl.addEventListener("message",this.Xl,!1),this.Zl.start(),n()):c().fine(o,"Discarding connection message because it did not contain our expected handshake:",s):c().fine(o,"Discarding connection message from ".concat(a," ")+"because it isn't an allowed origin:",s," (allowed  origins are)",i)},e.connect=function(i,n){var e=this;return new Promise((function(r,s){i||s(new Error("Provide a valid Window context to connect to.")),n||s(new Error("Provide an expected origin for the remote Window or provide the wildcard *.")),e.de?s(new Error("Already connected.")):e.ql?s(new Error("Already connecting.")):(e.Jl=new MessageChannel,e.Zl=e.Jl.port1,e.Ql=e.rv.bind(e,e.Zl,n,r),e.Zl.addEventListener("message",e.Ql),e.Zl.start(),i.postMessage({topic:t.Topics.CONNECT_HANDSHAKE},""===n?"":v(n).origin,[e.Jl.port2]),c().fine(o,"Opening channel to ".concat(n,"...")))}))},e.rv=function(t,i,n){this.de=!0,this.Wl&&c().fine(o,"Messenger channel to ".concat(i," established.")),t.removeEventListener("message",this.Ql),this.Xl=this.tv.bind(this),t.addEventListener("message",this.Xl,!1),n()},e.tv=function(t){var i=u(t);if(this.ir[i.id]&&i.isReply){var n=this.ir[i.id];delete this.ir[i.id];var e=n.promiseResolver;n.message=i.data,this.Wl&&c().fine(o,"Received reply for topic '%s': %s",i.topic,i.data),e([i.data,this.ev.bind(this,i.id,n.topic)])}else{var r=this.el[i.topic];if(!r)return;this.Wl&&c().fine(o,"Received new message for "+"topic '".concat(i.topic,"': ").concat(i.data));for(var s=0;s<r.length;s++)(0,r[s])(i.data,this.ev.bind(this,i.id,i.topic))}},e.on=function(t,i){this.el[t]?this.el[t].push(i):this.el[t]=[i]},e.off=function(t,i){if(i){var n=this.el[t].indexOf(i);-1!==n&&this.el[t].splice(n,1)}else this.el[t]&&delete this.el[t]},e.ev=function(t,i,n){var e=this,r={id:t,topic:i,data:n,isReply:!0};return this.Zl.postMessage(r),new Promise((function(t){e.ir[r.id]={message:n,topic:i,promiseResolver:t}}))},e.send=function(t,i){var n=this,e={id:crypto.getRandomValues(new Uint8Array(10)).join(""),topic:t,data:i};return this.Wl&&c().fine(o,"Sending %s: %s",t,i),this.Zl.postMessage(e),new Promise((function(r){n.ir[e.id]={message:i,topic:t,promiseResolver:r}}))},i=t,(n=[{key:"Topics",get:function(){return{CONNECT_HANDSHAKE:"topic-connect-handshake",NOTIFICATION_PERMISSION_STATE:"topic-notification-permission-state",SERVICE_WORKER_STATE:"topic-service-worker-state",SERVICE_WORKER_REGISTRATION:"topic-service-worker-registration",SERVICE_WORKER_QUERY:"topic-service-worker-query",STORAGE_GET:"topic-storage-get"}}}])&&a(i,n),t}(),g=function(){function t(t){this.Wl=t&&t.debug,this.Yl=t.windowContext||window,this.iv=new w({debug:this.Wl,windowContext:this.Yl})}var o=t.prototype;return o.isCurrentDialogPopup=function(){return!!this.Yl.opener&&this.Yl.opener!==this.Yl},o.requestNotificationPermission=function(){var t=this;return new Promise((function(i,n){try{t.Yl.Notification.requestPermission((function(t){return i(t)}))}catch(t){n(t)}}))},o.run=function(){this.tw(),this.iw(),this.nw(),this.ew(),"denied"!==this.Yl.Notification.permission?this.rw():this.sw()},o.tw=function(){var t=this,i=this.Yl.document.querySelector("#close");i&&i.addEventListener("click",(function(){t.closeDialog()}))},o.closeDialog=function(){if(this.isCurrentDialogPopup())this.Yl.close();else{var t=function(t){var n,e=i();if(!t)return e;for(;n=r.exec(t);){var o=s(n[1],n[1]),a=n[2]?s(n[2].replace(/\+/g," "),n[2]):"";e[o]=a}return e}((this.Yl.fakeLocation||this.Yl.location).search);if(!t.return)throw new Error("Missing required parameter.");var n=s(t.return);this.redirectToUrl(n)}},o.sw=function(){var t=this;navigator.permissions.query({name:"notifications"}).then((function(i){i.onchange=function(){switch(t.iw(),t.Yl.Notification.permission){case"default":case"granted":t.rw()}}}))},o.iw=function(){this.Yl.localStorage.setItem("amp-web-push-notification-permission",this.Yl.Notification.permission)},o.nw=function(){for(var t=this.Yl.document.querySelectorAll("[permission]"),i=0;i<t.length;i++){var r=t[i];this.ow(r,!1)}var s,o=this.Yl.document.querySelector("[permission=".concat((s=this.Yl.Notification.permission,String(s).replace(n,e)),"]"));o&&this.ow(o,!0)},o.ew=function(){var t=this.Yl.document.querySelector("#preload"),i=this.Yl.document.querySelector("#postload");t&&i&&(this.ow(t,!1),this.ow(i,!0))},o.ow=function(t,i){if(t){var n="invisible";i?t.classList.remove(n):t.classList.add(n)}},o.rw=function(){var t=this;return this.requestNotificationPermission().then((function(i){if(t.iw(),t.isCurrentDialogPopup())return t.iv.connect(opener,""),t.iv.send(w.Topics.NOTIFICATION_PERMISSION_STATE,i).then((function(i){var n=i[0];n&&n.closeFrame&&t.closeDialog()}));t.closeDialog()}))},o.redirectToUrl=function(t){var i=v(t);!i||"http:"!==i.protocol&&"https:"!==i.protocol||(this.Yl.location.href=t)},t}();window._ampWebPushPermissionDialog=new g({debug:!1}),window._ampWebPushPermissionDialog.run()}();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
//# sourceMappingURL=amp-web-push-permission-dialog.js.map</script>
​
​
</body></html>